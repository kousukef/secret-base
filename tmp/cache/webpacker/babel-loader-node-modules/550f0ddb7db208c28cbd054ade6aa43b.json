{"ast":null,"code":"import consumer from \"./consumer\";\nvar chatChannel = $(document).on('turbolinks:load', function () {\n  consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: $('#message').data('product_id')\n  }, {\n    connected: function connected() {\n      console.log(params); // Called when the subscription is ready for use on the server\n    },\n    disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n    },\n    received: function received(data) {\n      // Called when there's incoming data on the websocket for this channel\n      var li = $('<li>').text(data['message']);\n      li.appendTo('#messages');\n    },\n    speak: function speak(message) {\n      return this.perform('speak', {\n        message: message\n      });\n    }\n  });\n  document.addEventListener('DOMContentLoaded', function () {\n    $(document).on('click', '#message_button', function () {\n      var value = $('#message_field').val();\n      chatChannel.speak(value);\n      document.getElementById('message_field').value = '';\n      $('#message_field').focus();\n    });\n  });\n});","map":{"version":3,"sources":["/home/ubuntu/environment/secret_base/app/javascript/channels/product_channel.js"],"names":["consumer","chatChannel","$","document","on","subscriptions","create","channel","product_id","data","connected","console","log","params","disconnected","received","li","text","appendTo","speak","message","perform","addEventListener","value","val","getElementById","focus"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEA,IAAMC,WAAW,GAAGC,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,iBAAf,EAAkC,YAAY;AAChEJ,EAAAA,QAAQ,CAACK,aAAT,CAAuBC,MAAvB,CAA8B;AAC5BC,IAAAA,OAAO,EAAE,gBADmB;AAE5BC,IAAAA,UAAU,EAAEN,CAAC,CAAC,UAAD,CAAD,CAAcO,IAAd,CAAmB,YAAnB;AAFgB,GAA9B,EAGG;AACHC,IAAAA,SADG,uBACS;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ,EADU,CAEV;AACD,KAJE;AAMHC,IAAAA,YANG,0BAMY,CACb;AACD,KARE;AAUHC,IAAAA,QAVG,oBAUMN,IAVN,EAUY;AACb;AACA,UAAIO,EAAE,GAAGd,CAAC,CAAC,MAAD,CAAD,CAAUe,IAAV,CAAeR,IAAI,CAAC,SAAD,CAAnB,CAAT;AACAO,MAAAA,EAAE,CAACE,QAAH,CAAY,WAAZ;AACD,KAdE;AAgBHC,IAAAA,KAAK,EAAE,eAASC,OAAT,EAAkB;AACvB,aAAO,KAAKC,OAAL,CAAa,OAAb,EAAsB;AAACD,QAAAA,OAAO,EAAEA;AAAV,OAAtB,CAAP;AACD;AAlBE,GAHH;AAwBFjB,EAAAA,QAAQ,CAACmB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtDpB,IAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAwB,iBAAxB,EAA2C,YAAU;AACnD,UAAMmB,KAAK,GAAGrB,CAAC,CAAC,gBAAD,CAAD,CAAoBsB,GAApB,EAAd;AACAvB,MAAAA,WAAW,CAACkB,KAAZ,CAAkBI,KAAlB;AACApB,MAAAA,QAAQ,CAACsB,cAAT,CAAwB,eAAxB,EAAyCF,KAAzC,GAAiD,EAAjD;AACArB,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBwB,KAApB;AACD,KALD;AAMD,GAPD;AAQC,CAjCmB,CAApB","sourcesContent":["import consumer from \"./consumer\";\n\nconst chatChannel = $(document).on('turbolinks:load', function () {\n  consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: $('#message').data('product_id')\n  }, {\n  connected() {\n    console.log(params);\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    // Called when there's incoming data on the websocket for this channel\n    var li = $('<li>').text(data['message']);\n    li.appendTo('#messages');\n  },\n\n  speak: function(message) {\n    return this.perform('speak', {message: message});\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', function(){\n  $(document).on('click', '#message_button', function(){\n    const value = $('#message_field').val();\n    chatChannel.speak(value);\n    document.getElementById('message_field').value = '';\n    $('#message_field').focus();\n  });\n});\n})"]},"metadata":{},"sourceType":"module"}