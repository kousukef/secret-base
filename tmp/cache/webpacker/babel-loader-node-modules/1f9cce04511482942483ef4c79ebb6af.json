{"ast":null,"code":"import consumer from \"./consumer\";\nvar chatChannel = document.addEventListener('DOMContentLoaded', function () {\n  consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: 1\n  }, {\n    connected: function connected() {// Called when the subscription is ready for use on the server\n    },\n    disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n    },\n    received: function received(data) {\n      // Called when there's incoming data on the websocket for this channel\n      var li = $('<li>').text(data['message']);\n      li.appendTo('#messages');\n    },\n    speak: function speak(message) {\n      return this.perform('speak', {\n        message: message\n      });\n    }\n  });\n  document.addEventListener('DOMContentLoaded', function () {\n    $(document).on('click', '#message_button', function () {\n      var value = $('#message_field').val();\n      chatChannel.speak(value);\n      document.getElementById('message_field').value = '';\n      $('#message_field').focus();\n    });\n  });\n});","map":{"version":3,"sources":["/home/ubuntu/environment/secret_base/app/javascript/channels/product_channel.js"],"names":["consumer","chatChannel","document","addEventListener","subscriptions","create","channel","product_id","connected","disconnected","received","data","li","$","text","appendTo","speak","message","perform","on","value","val","getElementById","focus"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEA,IAAMC,WAAW,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AAC1EH,EAAAA,QAAQ,CAACI,aAAT,CAAuBC,MAAvB,CAA8B;AAC5BC,IAAAA,OAAO,EAAE,gBADmB;AAE5BC,IAAAA,UAAU,EAAE;AAFgB,GAA9B,EAGG;AACHC,IAAAA,SADG,uBACS,CACV;AACD,KAHE;AAKHC,IAAAA,YALG,0BAKY,CACb;AACD,KAPE;AASHC,IAAAA,QATG,oBASMC,IATN,EASY;AACb;AACA,UAAIC,EAAE,GAAGC,CAAC,CAAC,MAAD,CAAD,CAAUC,IAAV,CAAeH,IAAI,CAAC,SAAD,CAAnB,CAAT;AACAC,MAAAA,EAAE,CAACG,QAAH,CAAY,WAAZ;AACD,KAbE;AAeHC,IAAAA,KAAK,EAAE,eAASC,OAAT,EAAkB;AACvB,aAAO,KAAKC,OAAL,CAAa,OAAb,EAAsB;AAACD,QAAAA,OAAO,EAAEA;AAAV,OAAtB,CAAP;AACD;AAjBE,GAHH;AAuBFf,EAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtDU,IAAAA,CAAC,CAACX,QAAD,CAAD,CAAYiB,EAAZ,CAAe,OAAf,EAAwB,iBAAxB,EAA2C,YAAU;AACnD,UAAMC,KAAK,GAAGP,CAAC,CAAC,gBAAD,CAAD,CAAoBQ,GAApB,EAAd;AACApB,MAAAA,WAAW,CAACe,KAAZ,CAAkBI,KAAlB;AACAlB,MAAAA,QAAQ,CAACoB,cAAT,CAAwB,eAAxB,EAAyCF,KAAzC,GAAiD,EAAjD;AACAP,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBU,KAApB;AACD,KALD;AAMD,GAPD;AAQC,CAhCmB,CAApB","sourcesContent":["import consumer from \"./consumer\";\n\nconst chatChannel = document.addEventListener('DOMContentLoaded', function(){\n  consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: 1\n  }, {\n  connected() {\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    // Called when there's incoming data on the websocket for this channel\n    var li = $('<li>').text(data['message']);\n    li.appendTo('#messages');\n  },\n\n  speak: function(message) {\n    return this.perform('speak', {message: message});\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', function(){\n  $(document).on('click', '#message_button', function(){\n    const value = $('#message_field').val();\n    chatChannel.speak(value);\n    document.getElementById('message_field').value = '';\n    $('#message_field').focus();\n  });\n});\n})"]},"metadata":{},"sourceType":"module"}