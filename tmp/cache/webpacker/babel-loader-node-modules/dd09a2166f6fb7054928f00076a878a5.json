{"ast":null,"code":"import consumer from \"./consumer\";\nvar chatChannel = $(document).on('turbolinks:load', function () {\n  consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: 1\n  }, {\n    connected: function connected() {// Called when the subscription is ready for use on the server\n    },\n    disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n    },\n    received: function received(data) {\n      // Called when there's incoming data on the websocket for this channel\n      console.log(data);\n      var li = $('<li>').text(data['message']);\n      console.log(data['message']);\n      li.appendTo('#messages');\n    },\n    speak: function speak(message) {\n      return this.perform('speak', {\n        message: message\n      });\n    }\n  });\n  document.addEventListener('DOMContentLoaded', function () {\n    $(document).on('click', '#message_button', function () {\n      var value = $('#message_field').val();\n      chatChannel.speak(value);\n      document.getElementById('message_field').value = '';\n      $('#message_field').focus();\n    });\n  });\n});","map":{"version":3,"sources":["/home/ubuntu/environment/secret_base/app/javascript/channels/product_channel.js"],"names":["consumer","chatChannel","$","document","on","subscriptions","create","channel","product_id","connected","disconnected","received","data","console","log","li","text","appendTo","speak","message","perform","addEventListener","value","val","getElementById","focus"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEA,IAAMC,WAAW,GAAGC,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,iBAAf,EAAkC,YAAY;AAChEJ,EAAAA,QAAQ,CAACK,aAAT,CAAuBC,MAAvB,CAA8B;AAC5BC,IAAAA,OAAO,EAAE,gBADmB;AAE5BC,IAAAA,UAAU,EAAE;AAFgB,GAA9B,EAGG;AACHC,IAAAA,SADG,uBACS,CACV;AACD,KAHE;AAKHC,IAAAA,YALG,0BAKY,CACb;AACD,KAPE;AASHC,IAAAA,QATG,oBASMC,IATN,EASY;AACb;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,UAAIG,EAAE,GAAGb,CAAC,CAAC,MAAD,CAAD,CAAUc,IAAV,CAAeJ,IAAI,CAAC,SAAD,CAAnB,CAAT;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAAC,SAAD,CAAhB;AACAG,MAAAA,EAAE,CAACE,QAAH,CAAY,WAAZ;AACD,KAfE;AAiBHC,IAAAA,KAAK,EAAE,eAASC,OAAT,EAAkB;AACvB,aAAO,KAAKC,OAAL,CAAa,OAAb,EAAsB;AAACD,QAAAA,OAAO,EAAEA;AAAV,OAAtB,CAAP;AACD;AAnBE,GAHH;AAyBFhB,EAAAA,QAAQ,CAACkB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtDnB,IAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAwB,iBAAxB,EAA2C,YAAU;AACnD,UAAMkB,KAAK,GAAGpB,CAAC,CAAC,gBAAD,CAAD,CAAoBqB,GAApB,EAAd;AACAtB,MAAAA,WAAW,CAACiB,KAAZ,CAAkBI,KAAlB;AACAnB,MAAAA,QAAQ,CAACqB,cAAT,CAAwB,eAAxB,EAAyCF,KAAzC,GAAiD,EAAjD;AACApB,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBuB,KAApB;AACD,KALD;AAMD,GAPD;AAQC,CAlCmB,CAApB","sourcesContent":["import consumer from \"./consumer\"\n\nconst chatChannel = $(document).on('turbolinks:load', function () {\n  consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: 1\n  }, {\n  connected() {\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    // Called when there's incoming data on the websocket for this channel\n    console.log(data);\n    var li = $('<li>').text(data['message']);\n    console.log(data['message']);\n    li.appendTo('#messages');\n  },\n\n  speak: function(message) {\n    return this.perform('speak', {message: message});\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', function(){\n  $(document).on('click', '#message_button', function(){\n    const value = $('#message_field').val();\n    chatChannel.speak(value);\n    document.getElementById('message_field').value = '';\n    $('#message_field').focus();\n  });\n});\n})"]},"metadata":{},"sourceType":"module"}