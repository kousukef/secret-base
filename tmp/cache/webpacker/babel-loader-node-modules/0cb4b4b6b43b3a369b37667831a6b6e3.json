{"ast":null,"code":"import consumer from \"./consumer\";\n$(function () {\n  var chatChannel = consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: $('#messages').data('product-id')\n  }, {\n    connected: function connected() {// Called when the subscription is ready for use on the server\n    },\n    disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n    },\n    received: function received(data) {\n      console.log(data['user']); // Called when there's incoming data on the websocket for this channel\n\n      var message = \"<div class=\\\"col-12\\\">\\n                    <div class=\\\"card text-white bg-success mb-3 float-\".concat(data['right_or_left'], \"\\\" style=\\\"max-width: 75%;\\\">\\n                     <div class=\\\"card-header\\\" style='max-height: 3rem;'>\\n                       <img src=\\\"\").concat(data['user_image'], \"\\\" class=\\\"rounded mr-2\\\" alt=\\\"user image\\\">\\n                       <strong class=\\\"mr-auto\\\">Bootstrap</strong>\\n                       <small>11 mins ago</small>\\n                     </div>\\n                     <div class=\\\"card-body\\\">\\n                       <p class=\\\"card-text\\\">\").concat(data['message'], \"</p>\\n                     </div>\\n                    </div>\\n                  </div>\");\n      var messages = document.getElementById('messages');\n      messages.insertAdjacentHTML('beforeend', message);\n    },\n    speak: function speak(message) {\n      return this.perform('speak', {\n        message: message\n      });\n    }\n  });\n  $(document).on('click', '#message_button', function () {\n    var value = $('#message_field').val();\n    chatChannel.speak(value);\n    document.getElementById('message_field').value = '';\n    $('#message_field').focus();\n  });\n});","map":{"version":3,"sources":["/home/ubuntu/environment/secret_base/app/javascript/channels/product_channel.js"],"names":["consumer","$","chatChannel","subscriptions","create","channel","product_id","data","connected","disconnected","received","console","log","message","messages","document","getElementById","insertAdjacentHTML","speak","perform","on","value","val","focus"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEAC,CAAC,CAAC,YAAW;AACb,MAAMC,WAAW,GAAGF,QAAQ,CAACG,aAAT,CAAuBC,MAAvB,CAA8B;AAC9CC,IAAAA,OAAO,EAAE,gBADqC;AAE9CC,IAAAA,UAAU,EAAEL,CAAC,CAAC,WAAD,CAAD,CAAeM,IAAf,CAAoB,YAApB;AAFkC,GAA9B,EAGf;AACHC,IAAAA,SADG,uBACS,CACV;AACD,KAHE;AAKHC,IAAAA,YALG,0BAKY,CACb;AACD,KAPE;AASHC,IAAAA,QATG,oBASMH,IATN,EASY;AACbI,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAI,CAAC,MAAD,CAAhB,EADa,CAEb;;AACA,UAAIM,OAAO,4GACyDN,IAAI,CAAC,eAAD,CAD7D,0JAGoBA,IAAI,CAAC,YAAD,CAHxB,+SAQ+BA,IAAI,CAAC,SAAD,CARnC,4FAAX;AAYA,UAAIO,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAf;AACAF,MAAAA,QAAQ,CAACG,kBAAT,CAA4B,WAA5B,EAAyCJ,OAAzC;AACD,KA1BE;AA4BHK,IAAAA,KAAK,EAAE,eAASL,OAAT,EAAkB;AACvB,aAAO,KAAKM,OAAL,CAAa,OAAb,EAAsB;AAACN,QAAAA,OAAO,EAAEA;AAAV,OAAtB,CAAP;AACD;AA9BE,GAHe,CAApB;AAoCEZ,EAAAA,CAAC,CAACc,QAAD,CAAD,CAAYK,EAAZ,CAAe,OAAf,EAAwB,iBAAxB,EAA2C,YAAU;AACnD,QAAMC,KAAK,GAAGpB,CAAC,CAAC,gBAAD,CAAD,CAAoBqB,GAApB,EAAd;AACApB,IAAAA,WAAW,CAACgB,KAAZ,CAAkBG,KAAlB;AACAN,IAAAA,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCK,KAAzC,GAAiD,EAAjD;AACApB,IAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBsB,KAApB;AACD,GALD;AAMD,CA3CA,CAAD","sourcesContent":["import consumer from \"./consumer\"\n\n$(function() {\nconst chatChannel = consumer.subscriptions.create({\n    channel: \"ProductChannel\",\n    product_id: $('#messages').data('product-id')\n  }, {\n  connected() {\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    console.log(data['user']);\n    // Called when there's incoming data on the websocket for this channel\n    var message = `<div class=\"col-12\">\n                    <div class=\"card text-white bg-success mb-3 float-${data['right_or_left']}\" style=\"max-width: 75%;\">\n                     <div class=\"card-header\" style='max-height: 3rem;'>\n                       <img src=\"${data['user_image']}\" class=\"rounded mr-2\" alt=\"user image\">\n                       <strong class=\"mr-auto\">Bootstrap</strong>\n                       <small>11 mins ago</small>\n                     </div>\n                     <div class=\"card-body\">\n                       <p class=\"card-text\">${data['message']}</p>\n                     </div>\n                    </div>\n                  </div>`;\n    var messages = document.getElementById('messages');\n    messages.insertAdjacentHTML('beforeend', message);\n  },\n\n  speak: function(message) {\n    return this.perform('speak', {message: message});\n  }\n});\n\n  $(document).on('click', '#message_button', function(){\n    const value = $('#message_field').val();\n    chatChannel.speak(value);\n    document.getElementById('message_field').value = '';\n    $('#message_field').focus();\n  });\n});"]},"metadata":{},"sourceType":"module"}